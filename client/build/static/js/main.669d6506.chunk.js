(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{40:function(e,t,a){e.exports=a.p+"static/media/Dual Ring-1s-200px.edf672b4.gif"},45:function(e,t,a){e.exports=a(76)},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),l=a(3),s=a(16),u=a(2),i=a(5),p=a.n(i),m=a(11),f=a(14),d=a.n(f),E=a(38),g=a.n(E),b=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;return function(n){var r=g.a.v4();n({type:"SET_ALERT",payload:{msg:e,alertType:t,id:r}}),setTimeout(function(){return n({type:"REMOVE_ALERT",payload:r})},a)}},h=function(e){e?d.a.defaults.headers.common["x-auth-token"]=e:delete d.a.defaults.headers.common["x-auth-token"]},O=function(){return function(){var e=Object(m.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&h(localStorage.token),e.prev=1,e.next=4,d.a.get("/api/auth");case 4:a=e.sent,t({type:"USER_LOADED",payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t({type:"AUTH_ERROR"});case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},v=Object(u.b)(function(e){return{auth:e.auth}},{logout:function(){return function(e){e({type:"LOGOUT"})}}})(function(e){var t=e.auth,a=t.isAuthenticated,c=t.loading,o=e.logout,s=r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.b,{to:"/dashboard"},r.a.createElement("span",{className:"hide-sm"}," Dashboard")),r.a.createElement("i",{className:"fas fa-user"})," "),r.a.createElement("li",null,r.a.createElement("a",{onClick:o,href:"#!"},r.a.createElement("i",{className:"fas fa-sign-out-alt"})," ",r.a.createElement("span",{className:"hide-sm"}," Logout")))),u=r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.b,{to:"#!"},"Developers")),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/register"},"Register")),r.a.createElement("li",null,r.a.createElement(l.b,{to:"/login"},"Login")));return r.a.createElement("nav",{className:"navbar bg-dark"},r.a.createElement("h1",null,r.a.createElement(l.b,{to:"/"}," ",r.a.createElement("i",{className:"fas fa-code"})," DevLink"," ")),!c&&r.a.createElement(n.Fragment,null,a?s:u))}),y=Object(u.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}})(function(e){return e.isAuthenticated?r.a.createElement(s.a,{to:"/dashboard"}):r.a.createElement("section",{className:"landing"},r.a.createElement("div",{className:"dark-overlay"},r.a.createElement("div",{className:"landing-inner"},r.a.createElement("h1",{className:"x-large"},"Developer Link"),r.a.createElement("p",{className:"lead"},"Create developer profile/portfolio, share posts and get help from other developers"),r.a.createElement("div",{className:"buttons"},r.a.createElement(l.b,{to:"/register",className:"btn btn-success"},"Sign up"),r.a.createElement(l.b,{to:"/login",className:"btn btn"},"Login")))))}),j=a(12),w=a(20),S=a(4),N=a.n(S);function P(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var R=function(e){var t=e.setAlert,a=e.register,c=e.isAuthenticated,o=Object(n.useState)({name:"",email:"",password:"",password2:""}),u=Object(w.a)(o,2),i=u[0],f=u[1],d=i.name,E=i.email,g=i.password,b=i.password2,h=function(e){return f(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?P(a,!0).forEach(function(t){Object(j.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):P(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},i,Object(j.a)({},e.target.name,e.target.value)))},O=function(){var e=Object(m.a)(p.a.mark(function e(n){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),g!==b?t("Passwords do not match","danger"):a({name:d,email:E,password:g});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return c?r.a.createElement(s.a,{to:"/dashboard"}):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-success"},"Sign up"),r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fas fa-user"},"Create Your Account")),r.a.createElement("form",{className:"form",onSubmit:function(e){return O(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",placeholder:"Name",name:"name",value:d,onChange:function(e){return h(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"Email",placeholder:"Email Address",name:"email",value:E,onChange:function(e){return h(e)}}),r.a.createElement("small",{className:"form-text"},"This site uses Gravatar, so if you want a profile image, usa a Gravatar email")),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:g,onChange:function(e){return h(e)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",placeholder:"Confirm Password",name:"password2",value:b,onChange:function(e){return h(e)}})),r.a.createElement("input",{type:"submit",value:"Register",className:"btn btn-success"})),r.a.createElement("p",{className:"my-1"},"Already have an account? ",r.a.createElement(l.b,{to:"/login"},"Sign in")))};R.propTypres={setAlert:N.a.func.isRequired,register:N.a.func.isRequired,isAuthenticated:N.a.bool};var A=Object(u.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{setAlert:b,register:function(e){var t=e.name,a=e.email,n=e.password;return function(){var e=Object(m.a)(p.a.mark(function e(r){var c,o,l,s;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{"Content-Type":"application/json"}},o=JSON.stringify({name:t,email:a,password:n}),e.prev=2,e.next=5,d.a.post("/api/users",o,c);case 5:l=e.sent,r({type:"REGISTER_SUCCESS",payload:l.data}),r(O()),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),(s=e.t0.response.data.errors)&&s.forEach(function(e){return r(b(e.msg,"danger"))}),r({type:"REGISTER_FAIL"});case 15:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t){return e.apply(this,arguments)}}()}})(R);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var x=Object(u.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{login:function(e,t){return function(){var a=Object(m.a)(p.a.mark(function a(n){var r,c,o,l;return p.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},c=JSON.stringify({email:e,password:t}),a.prev=2,a.next=5,d.a.post("/api/auth",c,r);case 5:o=a.sent,n({type:"LOGIN_SUCCESS",payload:o.data}),n(O()),a.next=15;break;case 10:a.prev=10,a.t0=a.catch(2),(l=a.t0.response.data.errors)&&l.forEach(function(e){return n(b(e.msg,"danger"))}),n({type:"LOGIN_FAIL"});case 15:case"end":return a.stop()}},a,null,[[2,10]])}));return function(e){return a.apply(this,arguments)}}()}})(function(e){var t=e.login,a=e.isAuthenticated,c=Object(n.useState)({email:"",password:""}),o=Object(w.a)(c,2),u=o[0],i=o[1],f=u.email,d=u.password,E=function(e){return i(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach(function(t){Object(j.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},u,Object(j.a)({},e.target.name,e.target.value)))},g=function(){var e=Object(m.a)(p.a.mark(function e(a){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.preventDefault(),t(f,d);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return a?r.a.createElement(s.a,{to:"/dashboard"}):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:"large text-success"},"Sign In"),r.a.createElement("p",{className:"lead"},r.a.createElement("i",{className:"fas fa-user"},"Sign Into Your Account")),r.a.createElement("form",{className:"form",onSubmit:function(e){return g(e)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"Email",placeholder:"Email Address",name:"email",value:f,onChange:function(e){return E(e)},required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:d,onChange:function(e){return E(e)},minLength:"6",required:!0})),r.a.createElement("input",{type:"submit",className:"btn btn-success",value:"Login"})),r.a.createElement("p",{className:"my-1"},"Don't have an account? ",r.a.createElement(l.b,{to:"/register"},"Sign up")))}),D=Object(u.b)(function(e){return{alerts:e.alert}})(function(e){var t=e.alerts;return null!==t&&t.length>0&&t.map(function(e){return r.a.createElement("div",{key:e.id,className:"alert alert-".concat(e.alertType)},e.msg)})}),L=a(40),T=a.n(L),C=function(){return r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:T.a,style:{width:"200px",margin:"auto",display:"block"},alt:"loading"}))},I=Object(u.b)(function(e){return{auth:e.auth,profile:e.profile}},{getCurrentProfile:function(){return function(){var e=Object(m.a)(p.a.mark(function e(t){var a;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/profile/me");case 3:a=e.sent,t({type:"GET_PROFILE",payload:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"PROFILE_ERROR",payload:{msg:e.t0.response.statusText,status:e.t0.response.status}});case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}})(function(e){var t=e.getCurrentProfile,a=e.auth.user,c=e.profile,o=c.profile,l=c.loading;return Object(n.useEffect)(function(){t()},[]),l&&null===o?r.a.createElement(C,null):r.a.createElement(n.Fragment,null,r.a.createElement("h1",{className:" large text-success"}," Dashboard"),r.a.createElement("p",{className:" Lead"},r.a.createElement("i",{className:"fas fa-user"}," Welcome ",a&&a.name)),null!==o?r.a.createElement(n.Fragment,null,"has"):r.a.createElement(n.Fragment,null,"has not"))}),_=a(41),F=Object(u.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=a.isAuthenticated,c=a.loading,o=Object(_.a)(e,["component","auth"]);return r.a.createElement(s.b,Object.assign({},o,{render:function(e){return n||c?r.a.createElement(t,e):r.a.createElement(s.a,{to:"/login"})}}))}),G=a(15),U=a(42),q=a(43),J=a(44),M=[];function H(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function V(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?H(a,!0).forEach(function(t){Object(j.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):H(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var W={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null};function Y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Y(a,!0).forEach(function(t){Object(j.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var z={profile:null,profiles:[],repos:[],loading:!0,error:{}},K=Object(G.combineReducers)({alert:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SET_ALERT":return[].concat(Object(J.a)(e),[n]);case"REMOVE_ALERT":return e.filter(function(e){return e.id!==n});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"USER_LOADED":return V({},e,{isAuthenticated:!0,loading:!1,user:n});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",n.token),V({},e,{},n,{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":return localStorage.removeItem("token"),V({},e,{token:null,isAuthenticated:!1,loading:!1});default:return e}},profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"GET_PROFILE":return B({},e,{profile:n,loading:!1});case"PROFILE_ERROR":return B({},e,{error:n,loading:!1});default:return e}}}),Q=[q.a],X=Object(G.createStore)(K,{},Object(U.composeWithDevTools)(G.applyMiddleware.apply(void 0,Q)));a(75);localStorage.token&&h(localStorage.token);var Z=function(){return Object(n.useEffect)(function(){X.dispatch(O())},[]),r.a.createElement(u.a,{store:X},r.a.createElement(l.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(v,null),r.a.createElement(s.b,{exact:!0,path:"/",component:y}),r.a.createElement("section",{className:"container"},r.a.createElement(D,null),r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/register",component:A}),r.a.createElement(s.b,{exact:!0,path:"/login",component:x}),r.a.createElement(F,{exact:!0,path:"/dashboard",component:I}))))))};o.a.render(r.a.createElement(Z,null),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.669d6506.chunk.js.map